{% extends 'base.html' %}

{% block title %}Scoresheet{% endblock %}

{% block content %}
<h2>Scoresheet for {{ matchup.home_team.name }} vs {{ matchup.away_team.name }}</h2>
<p><strong>Date:</strong> {{ matchup.date }}</p>

<form method="post">
    {% csrf_token %}
    
    <!-- Section for 8-Ball -->
    <h3>8-Ball Matches</h3>
    <table>
        <tr>
            <th>Lag Winner</th>
            <th colspan="13">Matches</th>
        </tr>
        {% for i in range_2 %}
        <tr>
            <!-- Lag Winner Row -->
            <td>
                <label for="lag_winner_8ball_{{ i }}">Lag Winner:</label>
                <select name="lag_winner_8ball_{{ i }}" id="lag_winner_8ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_winner_8ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        <tr>
            <!-- Lag Loser Row -->
            <td>
                <label for="lag_loser_8ball_{{ i }}">Lag Loser:</label>
                <select name="lag_loser_8ball_{{ i }}" id="lag_loser_8ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_loser_8ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <!-- Section for 9-Ball -->
    <h3>9-Ball Matches</h3>
    <table>
        <tr>
            <th>Lag Winner</th>
            <th colspan="13">Matches</th>
        </tr>
        {% for i in range_2 %}
        <tr>
            <!-- Lag Winner Row -->
            <td>
                <label for="lag_winner_9ball_{{ i }}">Lag Winner:</label>
                <select name="lag_winner_9ball_{{ i }}" id="lag_winner_9ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_winner_9ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        <tr>
            <!-- Lag Loser Row -->
            <td>
                <label for="lag_loser_9ball_{{ i }}">Lag Loser:</label>
                <select name="lag_loser_9ball_{{ i }}" id="lag_loser_9ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_loser_9ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <!-- Section for 10-Ball -->
    <h3>10-Ball Matches</h3>
    <table>
        <tr>
            <th>Lag Winner</th>
            <th colspan="13">Matches</th>
        </tr>
        {% for i in range_2 %}
        <tr>
            <!-- Lag Winner Row -->
            <td>
                <label for="lag_winner_10ball_{{ i }}">Lag Winner:</label>
                <select name="lag_winner_10ball_{{ i }}" id="lag_winner_10ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_winner_10ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        <tr>
            <!-- Lag Loser Row -->
            <td>
                <label for="lag_loser_10ball_{{ i }}">Lag Loser:</label>
                <select name="lag_loser_10ball_{{ i }}" id="lag_loser_10ball_{{ i }}">
                    <option value="">Select Player</option>
                    {% for player in home_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Home)</option>
                    {% endfor %}
                    {% for player in away_players %}
                    <option value="{{ player.id }}">{{ player.name }} (Away)</option>
                    {% endfor %}
                </select>
            </td>
            {% for j in range_13 %}
            <td><input type="checkbox" name="lag_loser_10ball_{{ i }}_match_{{ j }}"></td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <button type="submit">Submit Scores</button>
</form>

<a href="{% url 'view_matchups' matchup.home_team.id %}">Back to Matchups</a>
{% endblock %}